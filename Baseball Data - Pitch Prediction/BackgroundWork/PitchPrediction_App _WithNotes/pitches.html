<!doctype html>

<!-- HTML!!!!! -->
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <title>Pitch Predictor</title>
    <!--link rel="stylesheet" href="slider/d3.slider.css" /-->
    <!--link rel="stylesheet" href="/static/pitches.css"/-->
    <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
    <script src="http://code.jquery.com/jquery-1.12.3.js"></script>

    <!--script src="/static/pitches.js"></script-->


<!-- CSS!!!!! -->
    <style>

    body {
      font-family: 'Roboto';
    }

    h1 {
      font-size: 3em;
      margin: 60px 0 5px 0;
      color: #10035A   

    }

    h2 {
      font-size: 1em;
      margin: 20px 0 5px 0;
      color: gray
    }

    /* .batter_button {
    	border-style: solid;
    	border-radius: 50%;
    	width: 75px;
    	height: 75px;
    	display: inline-flex;
    } */

    /* .pitch_button {
    	border-style: solid;
    	border-radius: 50%;
    	width: 75px;
    	height: 75px;
    	display: inline-flex;
    } */

    .zone_button {
    	/* border-style: solid; */
    	border-radius: 50%;
    	width: 65px;
    	height: 65px;
    	display: inline-flex;
    }

    </style>

    </head>


<!--JAVA SCRIPT!!!! -->

    <script>

    <!-- SETTING VARIABLES -->
    // var Batter = 'Bader';
    // var Pitchtype = 'CU';
    // var Zone = 1;
    // var current_proba = 95.0;

    // var startpercent = "____"
    // current_proba = 100 * data["score"];

    //
    // var startpercent = document.getElementById('currentproba')
    // startpercent.textContent = "____"
    //
    // Batter = "____"
    // var startbatter = document.getElementById('currentbatter')
    // startbatter.textContent = Batter


    // Batter = "____"
    // var Batter2 = document.getElementById('currentbatter')
    // Batter2.textContent = Batter
    //
    // current_proba = "____"
    // var current_proba2 = document.getElementById('currentproba')
    // current_proba2.textContent = current_proba


    </script>

<!-- HTML!!!!! -->
  <body>

      <div id="prediction_result" class="wrapper">
        <h1>There is a
          <span id = "currentproba">
          </span>% chance
          <span id = "currentbatter">
          </span> will not put the ball in play.

        </h1>


      </div>


      <div id="batter_wrapper" class="wrapper">

        <h2> Select your batter...
        </h2>

        <img class="button batter_button" src="/static/Bader1.jpg" id="Bader">
        <img class="button batter_button" src="/static/Carpenter1.jpg" id="Carpenter">
        <img class="button batter_button" src="/static/DeJong1.jpg" id="DeJong">
        <img class="button batter_button" src="/static/Fowler1.jpg" id="Fowler">
        <img class="button batter_button" src="/static/Garcia1.jpg" id="Garcia">
        <img class="button batter_button" src="/static/Gyorko1.jpg" id="Gyorko">
        <img class="button batter_button" src="/static/Martinez1.jpg" id="Martinez">
        <img class="button batter_button" src="/static/Mikolas1.jpg" id="Mikolas">
        <img class="button batter_button" src ="/static/Molina1.jpg" id="Molina">
        <img class="button batter_button" src ="/static/Munoz1.jpg" id="Munoz">
        <img class="button batter_button" src ="/static/Ozuna1.jpg" id="Ozuna">
        <img class="button batter_button" src ="/static/Pena1.jpg" id="Pena">
        <img class="button batter_button" src ="/static/Pham1.jpg" id="Pham">
        <img class="button batter_button" src ="/static/Wacha1.jpg" id="Wacha">
        <img class="button batter_button" src ="/static/Weaver1.jpg" id="Weaver">
        <img class="button batter_button" src ="/static/Wong1.jpg" id="Wong">

      </div>

      <div id="pitch_wrapper" class="wrapper">
        <h2>Select the pitch thrown...</h2>
          <img class="button pitch_button" src="/static/Changeup3.png" id='CH'>
          <img class="button pitch_button" src="/static/Cutter3.png" id='CT'>
          <img class="button pitch_button" src="/static/Curveball3.png" id='CU'>
          <img class="button pitch_button" src="/static/Fastball3.png" id='FA'>
          <img class="button pitch_button" src="/static/Sinker3.png" id='SI'>
          <img class="button pitch_button" src="/static/Slider3.png"id='SL'>
          <img class="button pitch_button" src="/static/Splitter3.png" id='SP'>
      </div>


      <div id="zone_wrapper" class="wrapper">
        <h2>Choose where it's going...</h2>
          <img class="button zone_button" src="/static/one.png" id=1.0>
          <img class="button zone_button" src="/static/two.png" id=2.0>
          <img class="button zone_button" src="/static/three.png" id=3.0>
          <img class="button zone_button" src="/static/four.png" id=4.0>
          <img class="button zone_button" src="/static/five.png" id=5.0>
          <img class="button zone_button" src="/static/six.png" id=6.0>
          <img class="button zone_button" src="/static/seven.png" id=7.0>
          <img class="button zone_button" src="/static/eight.png" id=8.0>
          <img class="button zone_button" src="/static/nine.png" id=9.0>
          <img class="button zone_button" src="/static/ten.png" id=10.0>
          <img class="button zone_button" src="/static/eleven.png" id=11.0>
          <img class="button zone_button" src="/static/twelve.png" id=12.0>
          <img class="button zone_button" src="/static/thirteen.png" id=13.0>
      </div>

<!-- JAVA SCRIPT!!! -->

      <script>

      // <!-- SETTING VARIABLES -->
      //var Batter = 'Bader';
      // var Pitchtype = 'CU';
      // var Zone = 1;
      // var current_proba = 95.0;

      var main = function () {

      <!-- FUNCTION TO GET CHANCE FROM YOUR PREDICTOR WITH AJAX AND CHANGE BAR  HEIGHT -->

      function getAndDrawChance(Batter, Pitchtype, Zone){
        $.ajax({
          type: "post",
          contentType: "application/json; charset=utf-8",
          url: "/score",
          dataType: "json",
          async: true,
          data:JSON.stringify({"example": [Batter, Pitchtype, Zone] }),
          // data: "{\"example\": ["+Batter+","+Pitchtype+","+Zone+"]}",
          success: function (data) {
            current_proba = Math.round(100 * data["score"]);
            var current_proba2 = document.getElementById('currentproba')
            current_proba2.textContent = current_proba

            console.log(current_proba)
          },
          error: function (result) {
          }
        })
      }

      <!-- BUTTONS -->

      ///FOR THE BATTER


      $('.batter_button').on('click', function() {
        $('.batter_button').css({ opacity: '1' })
         $(this).css({ opacity: '0.5' })

       	var $batterId = $(this).attr('id')
          Batter = $batterId;
          var Batter2 = document.getElementById('currentbatter')
          Batter2.textContent = Batter
          getAndDrawChance(Batter, Pitchtype, Zone)


          console.log(Batter)


      });

      /// FOR THE PITCH TYPE

      $('.pitch_button').on('click', function() {
        $('.pitch_button').css({ opacity: '1' })
         $(this).css({ opacity: '0.3' })

       	var $pitchId = $(this).attr('id')
          Pitchtype = $pitchId;
          getAndDrawChance(Batter, Pitchtype, Zone)

          console.log(Pitchtype)


      });

      ///FOR THE PITCHZONE


      $('.zone_button').on('click', function() {
        $('.zone_button').css({ opacity: '1' })
         $(this).css({ opacity: '0.3' })

       	var $zoneId = $(this).attr('id')
          Zone = $zoneId;
          getAndDrawChance(Batter, Pitchtype, Zone)

          console.log(Zone)


      });

      }

      $(document).ready(main)

  </script>

  </body>
</html>
